@model prj_Traveldate_Core.ViewModels.CCompanionViewModel;
@using System.ComponentModel;
@using System.ComponentModel.DataAnnotations;

@{
    ViewData["Title"] = "addCompanion";
}

<div class="container mt-2" style="justify-content:space-between;display:flex">
@*     <div class="d-flex row"> *@
        <div class="col-md-3">
            <div id="div1">
                <div class="cell" id="div3">
                    <div class="cell d-flex flex-column">
                        @*                      原本load二進位的頭像圖片用
                        @{
                        if (ViewBag.photo != null)
                        {
                        <div style="text-align:center;background-color:white;border-radius:10px">
                        <img src="@ViewBag.PhotoBase64" width="150" height="150" />
                        </div>
                        }
                        else
                        {
                        <img src="~/icons/User profile - border vector image.png" style="width: 150px; height" alt="noimage" />
                        }
                        } *@
                    @{
                        if (ViewBag.image != null)
                        {
                            <div style="text-align:center;background-color:white;border-radius:10px">
                                <img src="~/images/@ViewBag.image" width="150" height="150" />
                            </div>
                        }
                        else
                        {
                            <div style="text-align:center;background-color:white;border-radius:10px">
                                <img src="~/icons/User profile - border vector image.png" width="150" height="150" />
                            </div>
                        }
                    }
                    </div>

                <ul class="list-group leftarea mt-3" style="font-size:18px;font-weight:600">
                    <li class="list-group-item menuItem" data-content="subItem1"> <span><img style="height:50px;width:45px;padding-bottom:5px" src="~/icons/icon-hi-2(member).gif" /></span><b style="font-weight:bolder;font-size:20px;font-weight:600;padding-top:-50px">@ViewBag.LastName@ViewBag.firstName</b></li>

                            @{
                                if (ViewBag.level == "黑鑽會員")
                                {
                                    <li class="list-group-item menuItem" data-content="subItem2" style="background-color:whitesmoke"><span><img style=" height:30px;width:30px;padding-bottom:5px" src="~/icons/level_dimond48.png" /></span><b>@ViewBag.level</b></li>
                                }
                                else if (ViewBag.level == "黃金會員")
                                {
                                    <li class="list-group-item menuItem" data-content="subItem2" style="background-color:whitesmoke"><span><img style=" height:40px;width:40px;padding-bottom:5px" src="~/icons/level-gold-50.png" /></span><b>@ViewBag.level</b></li>
                                }
                                else if (ViewBag.level == "白銀會員")
                                {
                                    <li class="list-group-item menuItem" data-content="subItem2" style="background-color:whitesmoke"><span><img style=" height:40px;width:40px;padding-bottom:5px" src="~/icons/level-slover-50.png" /></span><b>@ViewBag.level</b></li>
                                }
                                else
                                {
                                    <li class="list-group-item menuItem" data-content="subItem2" style="background-color:whitesmoke; margin-top:-10px">@ViewBag.level </li>
                                }
                            }
                        </ul>

                    </div>
                    <div class="cell" id="div2">
                <ul class="list-group leftarea lgmenu mt-3 " style="font-size:20px;font-weight:600">
                            <li class="list-group-item menuItem">@Html.ActionLink("基本資料設定", "basicInfo","Member","",new {@class="black-link"})</li>
                    <li class="list-group-item menuItem">@Html.ActionLink("密碼更改", "passwordChange","Member","",new {@class="black-link",@style="margin-left:-5px"}) </li>
                            <li class="list-group-item menuItem">
                                @Html.ActionLink("優惠券清單", "couponList","Member","",new {@class="black-link"})
                                <span class="badge rounded-pill bg-danger">@ViewBag.countscoupon</span>
                            </li>
                    <li class="list-group-item menuItem">@Html.ActionLink("常用旅伴", "showCompanion","Member","",new {@class="black-link",@style="margin-left:-5px"}) </li>
                            <li class="list-group-item menuItem">
                                @Html.ActionLink("收藏清單", "favoriteList","Member","",new {@class="black-link"})
                                <span class="badge rounded-pill bg-danger">@ViewBag.countsfavorite</span>
                            </li>
                            <li class="list-group-item menuItem">
                                @Html.ActionLink("會員訂單", "orderList","Member","",new {@class="black-link"})
                                <span class="badge rounded-pill bg-danger">@ViewBag.countsorder</span>
                            </li>
                            <li class="list-group-item menuItem">
                                @Html.ActionLink("我的評論", "commentList","Member","",new {@class="black-link"})
                                <span class="badge rounded-pill bg-danger">@ViewBag.countscomment</span>
                            </li>
                    <li class="list-group-item menuItem">
                        @Html.ActionLink("樂旅Chat", "SignalR","Member","",new {@class="black-link"})
                        @* <span class="badge rounded-pill bg-danger">@ViewBag.ForumLists</span> *@
                        <span><img style="width:30px;height:25px" src="~/icons/icon-chat-2.gif" /></span>
                    </li>
                        </ul>
                    </div>
                </div>
            </div>
    <!-- ↑↑↑左半邊 - 內容容器↑↑↑ -->
    <!-- ↓↓↓右半邊 - 內容容器↓↓↓ -->
<div id="rightPanel"  class="col-md-9">
            <h3 class="mb-4"><b>新增旅伴資料</b></h3>
            <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="~/HomePage/HomePage">首頁</a></li>
                    <li class="breadcrumb-item active" aria-current="page"><a href="~/Login/Login"> 會員登入</a></li>
                    <li class="breadcrumb-item active" aria-current="page"><a href="~/Member/index"> 會員專區</a></li>
                    <li class="breadcrumb-item active" aria-current="page"><a href="~/Member/showCompanion"> 常用旅伴</a></li>
                    <li class="breadcrumb-item active" aria-current="page">新增旅伴</li>
                </ol>
            </nav>
                @using (Html.BeginForm("addCompanion", "Member", FormMethod.Post))
                {
                    <div class="form-group">                     
                        @Html.HiddenFor(model => model.MemberId)
                    </div>

                    <div class="form-group">
                    @Html.LabelFor(model=>model.LastName)
                        @Html.EditorFor(model=>model.LastName,"id=LastName",new {htmlAttributes=new{@class="form-control"}})
                        <span id="errorDiv1" style="color: red;margin-top:px"></span>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model=>model.FirstName)
                        @Html.EditorFor(model=>model.FirstName,"id=FirstName",new {htmlAttributes=new{@class="form-control"}})
                        <span id="errorDiv2" style="color: red;"></span>
                    </div>
                      
                    <div class="form-group">
                <label for="Gender">性別</label><select id="txtGender" class="form-control"><option value="">請選擇</option><option value="female">女性</option><option value="male">男性</option></select>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model=>model.BirthDate)
                @Html.EditorFor(model=>model.BirthDate,"BirthDate",new {htmlAttributes=new{@class="form-control"}})
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model=>model.Phone)
                        @Html.EditorFor(model=>model.Phone,"id=Phone",new {htmlAttributes=new{@class="form-control"}})
                        <div id="errorDiv3" style="color: red;"></div>
                    </div>

                    <div class="form-group">
                        <label for="Email">聯絡信箱</label>
                        <input type="text" id="Email" class="form-control" />
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn my-btn-primary" id="btnAddCompanion">增加</button>
                        <button type="submit" class="btn btn-outline-secondary">@Html.ActionLink("返回", "showCompanion","Member","","")</button>                  
                    </div>
                    <button type="button" class="btn btn-outline-secondary" id="addDEMOfalse">DEMOF</button> @*DEMO用*@
                    <button type="button" class="btn btn-outline-secondary" id="addDEMOture">DEMOT</button> @*DEMO用*@
                }
  </div>
</div>


@*<div id="carouselExampleFade" class="carousel slide carousel-fade" data-bs-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active" data-bs-interval="4000">
            <img src="https://picsum.photos/id/454/1500/300" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item" data-bs-interval="4000">
            <img src="https://picsum.photos/id/177/1500/300" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item" data-bs-interval="4000">
            <img src="https://picsum.photos/id/442/1500/300" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item" data-bs-interval="4000">
            <img src="https://picsum.photos/id/440/1500/300" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item" data-bs-interval="4000">
            <img src="https://picsum.photos/id/583/1500/300" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item" data-bs-interval="4000">
            <img src="https://picsum.photos/id/770/1500/300" class="d-block w-100" alt="...">
        </div>
    </div>
</div>*@

    @section Styles
    {
    <link rel="stylesheet" href="~/css/Member.css" asp-append-version="true" />
    }
@section scripts{
    <script src="path/to/sweetalert.js"></script>
    <script>
        const btnAddCompanion = document.getElementById('btnAddCompanion');

        const LastName = document.getElementById('LastName');
        const FirstName = document.getElementById('FirstName');
        const Phone = document.getElementById('Phone');

        const errorDiv1 = document.getElementById('errorDiv1');
        const errorDiv2 = document.getElementById('errorDiv2');
        const errorDiv3 = document.getElementById('errorDiv3');

        btnAddCompanion.addEventListener('click', () => {
            if (LastName.value === "" || FirstName.value === "" || Phone.value === "") {

                setTimeout(() => {
                    swal("請確認必填欄位皆已填寫！", "", "warning");
                    errorDiv1.textContent = "此欄位為必填";
                    errorDiv2.textContent = "此欄位為必填";
                    errorDiv3.textContent = "此欄位為必填";
                    //errorDiv1.textContent = ""
                }, 650);
            };
            if (LastName.value.trim() !== "" && FirstName.value.trim() !== "" && Phone.value.trim() !== "") {
                swal("新增旅伴成功！", "稍後將自動為您導向", "success", { button: false })
                setTimeout(() => {

                }, 1500);
            }
        });
    </script>

    <script>
        //Demo用-addDEMOfalse新增旅伴錯誤示範
        document.addEventListener('DOMContentLoaded', function () {
            const addDEMOfalse = document.getElementById('addDEMOfalse');
            addDEMOfalse.addEventListener('click', function () {
                // 填充表單輸入欄位

                document.getElementById('LastName').value = '顏';
                document.getElementById('txtGender').value = 'female';
                document.getElementById('BirthDate').value = '1991-06-08';
                document.getElementById('Email').value = 'qazqwe123@gmail.com';

                // // 可選：顯示Demo照片
                // const imagePreview = document.getElementById('imagePreview');
                // imagePreview.src = '填充的圖片URL';
            });
        });
    </script>

    <script>
        //Demo用-addDEMOture新增旅伴正確示範
        document.addEventListener('DOMContentLoaded', function () {
            const addDEMOture = document.getElementById('addDEMOture');
            addDEMOture.addEventListener('click', function () {
                // 填充表單輸入欄位

                document.getElementById('FirstName').value = '蘇姬';
                document.getElementById('LastName').value = '顏';
                document.getElementById('txtGender').value = 'female';
                document.getElementById('BirthDate').value= '1991-06-08';
                document.getElementById('Phone').value = '0911168168';
                document.getElementById('Email').value = 'qazqwe123@gmail.com';

                // // 可選：顯示Demo照片
                // const imagePreview = document.getElementById('imagePreview');
                // imagePreview.src = '填充的圖片URL';
            });
        });
    </script>
}
